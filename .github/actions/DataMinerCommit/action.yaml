name: 'DataMinerCommit'
description: 'Commit dataminer outputs'

inputs:
  commit_message:
    description: Commit message
    required: true
  repository:
    description: Submodule path
    required: true

runs:
  using: "composite"
  steps:
    - name: Commit-submodule
      uses: ZeroRin/git-auto-commit-action@latest
      with:
        commit_message: ${{ inputs.commit_message }}
        repository: ${{ inputs.repository }}
    - name: Commit-main
      uses: ZeroRin/git-auto-commit-action@latest
      with:
        commit_message: ${{ inputs.commit_message }}
        file_pattern: ${{ inputs.repository }}
        push_options: --dry-run 